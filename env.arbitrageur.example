# ============================================
# ARBITRAGEUR SERVICE CONFIGURATION
# ============================================
# Copy this file to .env.arbitrageur and fill in your values

# ====== Ponder Indexer ======

# RPC URL for Ponder indexer
PONDER_RPC_URL_1=http://localhost:8545

# VaultSwap contract address
VAULT_SWAP_ADDRESS=0x0000000000000000000000000000000000000000

# BTCVaultsManager contract address
BTC_VAULTS_MANAGER_ADDRESS=0x0000000000000000000000000000000000000000

# Chain ID (default: 1 for mainnet)
CHAIN_ID=1

# Block to start indexing from
START_BLOCK=0

# Polling interval in milliseconds (default: 1000 = 1 second)
PONDER_POLLING_INTERVAL=1000

# Database URL for Ponder (use docker compose to start PostgreSQL)
# Note: Arbitrageur uses port 5433 to avoid conflict with liquidator
DATABASE_URL=postgresql://ponder:ponder@localhost:5433/ponder

# Database schema for Ponder (required when using PostgreSQL)
DATABASE_SCHEMA=public

# ====== Arbitrageur Client ======

# Arbitrageur private key (must have WBTC to acquire vaults)
# Default: Anvil account #2 (0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC)
ARBITRAGEUR_PRIVATE_KEY=0xpriv_key

# Ponder API URL (note: arbitrageur uses port 42070)
PONDER_URL=http://localhost:42070

# RPC URL for arbitrage transactions
RPC_URL=http://localhost:8545

# AaveIntegrationController address
CONTROLLER_ADDRESS=0x0000000000000000000000000000000000000000

# WBTC token address
WBTC_ADDRESS=0x0000000000000000000000000000000000000000

# Maximum slippage in basis points (default: 100 = 1%)
MAX_SLIPPAGE_BPS=100

# Auto-redeem acquired vaults (default: true)
AUTO_REDEEM=true

# Polling interval in milliseconds (default: 30000 = 30 seconds)
POLLING_INTERVAL_MS=30000

# Delay between processing vaults in milliseconds (default: 5000 = 5 seconds)
VAULT_PROCESSING_DELAY_MS=5000

# Metrics server port (default: 9091 to avoid conflict with liquidator)
# Exposes /metrics (Prometheus), /health, /ready endpoints
METRICS_PORT=9091

# ====== Retry Configuration (Optional) ======

# Maximum retry attempts (default: 3)
RETRY_MAX_ATTEMPTS=3

# Initial retry delay in milliseconds (default: 1000)
RETRY_INITIAL_DELAY_MS=1000

# Maximum retry delay in milliseconds (default: 30000)
RETRY_MAX_DELAY_MS=30000

# Transaction receipt timeout in milliseconds (default: 120000 = 2 minutes)
TX_RECEIPT_TIMEOUT_MS=120000
